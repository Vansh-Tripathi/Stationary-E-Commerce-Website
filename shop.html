<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shop - Stationery World</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="images/stationery.png">
</head>

<body>

<nav class="navbar navbar-expand-lg navbar-dark" style="background:#1f3b57;">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="index.html">
      <img src="images/pencil.png" width="34" height="34" class="me-2">
      Stationery World
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navMenu">
      <ul class="navbar-nav ms-auto align-items-lg-center">
        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link active" href="shop.html">Shop</a></li>
        <li class="nav-item"><a class="nav-link" href="features.html">Features</a></li>
        <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
        <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
        <li class="nav-item"><a class="nav-link" id="userDisplay" href="login.html">Login</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="cart-box" onclick="toggleCart()">ðŸ›’ <span id="cartCount">0</span></div>

<div class="overlay"></div>

<div class="cart-sidebar" id="cartSidebar">
  <div class="cart-header">
    <h4>Your Cart</h4>
    <button class="close-btn" onclick="toggleCart()">Ã—</button>
  </div>

  <ul id="cartItems" class="p-2"></ul>

  <div class="cart-footer">
    <p>Total: â‚¹<span id="cartTotal">0</span></p>
    <button class="btn btn-danger w-100 mb-2" onclick="clearCart()">Clear Cart</button>
    <button class="btn btn-primary w-100" onclick="checkout()">Checkout</button>
  </div>
</div>

<section class="container my-5">
  <h2 class="text-center mb-4" style="color:#1f3b57;">Our Products</h2>

  <div class="row g-4">

    <div class="col-md-4">
      <div class="product-card p-3">
        <img src="images/notebook.jpeg" class="product-img">
        <h5>Classic Notebook</h5>
        <p class="price">â‚¹120</p>
        <button class="btn btn-primary w-100" onclick="addToCart('Classic Notebook',120)">Add to Cart</button>
      </div>
    </div>

    <div class="col-md-4">
      <div class="product-card p-3">
        <img src="images/penset.jpeg" class="product-img">
        <h5>Pen Set</h5>
        <p class="price">â‚¹80</p>
        <button class="btn btn-primary w-100" onclick="addToCart('Pen Set',80)">Add to Cart</button>
      </div>
    </div>

    <div class="col-md-4">
      <div class="product-card p-3">
        <img src="images/stickynotes.jpeg" class="product-img">
        <h5>Sticky Notes</h5>
        <p class="price">â‚¹150</p>
        <button class="btn btn-primary w-100" onclick="addToCart('Sticky Notes',150)">Add to Cart</button>
      </div>
    </div>

    <div class="col-md-4">
      <div class="product-card p-3">
        <img src="images/colorpencils.jpeg" class="product-img">
        <h5>Color Pencils</h5>
        <p class="price">â‚¹100</p>
        <button class="btn btn-primary w-100" onclick="addToCart('Color Pencils',100)">Add to Cart</button>
      </div>
    </div>

    <div class="col-md-4">
      <div class="product-card p-3">
        <img src="images/pencils.jpeg" class="product-img">
        <h5>Pencils Pack</h5>
        <p class="price">â‚¹50</p>
        <button class="btn btn-primary w-100" onclick="addToCart('Pencils Pack',50)">Add to Cart</button>
      </div>
    </div>

  </div>
</section>

<div id="invoicePage" style="
  display:none;
  padding:40px;
  max-width:900px;
  margin:40px auto;
  border-radius:10px;
  background:#f8f9fa;
  box-shadow:0 0 15px rgba(0,0,0,0.1);">

  <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:30px;">
    <div>
      <img src="images/stationery.png" width="80">
      <h2 style="color:#1f3b57;">Stationery World</h2>
    </div>
    <div style="text-align:right;">
      <p id="invoiceNumber"><strong>Invoice #: </strong></p>
      <p id="invoiceDate"><strong>Date: </strong></p>
    </div>
  </div>

  <div style="margin-bottom:20px;">
    <p><strong>Customer:</strong> <span id="customerName"></span></p>
  </div>

  <div id="invoiceDetails"></div>

  <div style="text-align:right; margin-top:20px;">
    <strong style="font-size:18px;">Grand Total: â‚¹<span id="grandTotal"></span></strong>
  </div>

  <div style="text-align:right; margin-top:20px;">
    <button class="btn btn-primary" onclick="printInvoice()">Print Invoice</button>
    <button class="btn btn-secondary" onclick="closeInvoice()">Close</button>
  </div>

</div>

<footer class="footer mt-5">
  <div class="container text-center">
    Â© 2025 Stationery World Â· Built by Team
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="main.js"></script>

<script>
  const user = JSON.parse(localStorage.getItem("activeUser"));
  const navUser = document.getElementById("userDisplay");

  if (user) {
      navUser.innerHTML = `Hi, ${user.username} | <a href="profile.html" style="color:white; text-decoration:underline;">Profile</a> | <a href="#" onclick="logoutUser()" style="color:white; text-decoration:underline;">Logout</a>`;
  } else {
      navUser.innerHTML = `<a href="login.html" class="nav-link" style="color:white;">Login</a>`;
  }

  function logoutUser(){
      localStorage.removeItem("activeUser");
      window.location.href = "login.html";
  }
</script>

</body>
</html>
